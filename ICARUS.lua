local SCRIPT_FILE_NAME = GetScriptName();
local SCRIPT_FILE_ADDR = "https://raw.githubusercontent.com/vpumav/ICARUS/master/ICARUS.lua";
local VERSION_FILE_ADDR = "https://raw.githubusercontent.com/vpumav/ICARUS/master/version.txt";
local VERSION_NUMBER = "1.1.2"; --- This too
local version_check_done = false;
local update_downloaded = false;
local update_available = false;

--- Auto Updater GUI Stuff
local ICARUS_UPDATER_TAB = gui.Tab(gui.Reference("Settings"), "icarus.updater.tab", "ICARUS™ Autoupdater")
local ICARUS_UPDATER_GROUP = gui.Groupbox(ICARUS_UPDATER_TAB, "Auto Updater for ICARUS™ | v" .. VERSION_NUMBER, 15, 15, 600, 600)
local ICARUS_UPDATER_TEXT = gui.Text(ICARUS_UPDATER_GROUP, "")
--- AUTO UPDATER END



local a=false;setFont=draw.SetFont;createFont=draw.CreateFont;getScreenSize=draw.GetScreenSize;getLocal=entities.GetLocalPlayer;color=draw.Color;text=draw.TextShadow;SetVal=gui.SetValue;GetVal=gui.GetValue;local b=createFont("Verdana",30,1500)local c=createFont("Arial",30,1500)local d=createFont("Segoe UI",30,1500)local e=createFont("Segoe UI",20,1500)local f=http.Get("https://i.ibb.co/2YKz5C7/Icarus-FERTIG.png")local g,h,i=common.DecodePNG(f)local j=draw.CreateTexture(g,h,i)local k=gui.Reference(ALEGIT)local l=gui.Groupbox(k,"Advanced Legit Bot",15,5,297,300)local m=gui.Groupbox(k,"Extra's",320,630,297,300)local n=gui.Groupbox(k,"Visual stuff",320,5,297,300)local o=gui.Checkbox(l,"lbot.sonar.enabled","Enable",false)local p=gui.Slider(l,"lbot.sonar.volume","Volume",50,1,100,1)local q=gui.Combobox(l,"lbot.sonar.enabled","Sound","Button 17","Button 15","Blip 1","Blip 2","Bell","Button 10")local r=gui.Slider(l,"lbot.sonar.distance","Distance",200,100,1500,10)local s=gui.Slider(l,"lbot.sonar.fov","FOV",180,1,180,1)local t=gui.Slider(l,"lbot.sonar.fov","FOV rotation",180,0,360,1)local u=gui.Checkbox(l,"lbot.sonar.distancebasedfreq","Distancebased Beep frequency",false)local v=gui.Checkbox(l,"lbot.sonar.distancebasedvol","Distancebased Beep frequency",false)local w=gui.Checkbox(l,"lbot.sonar.visualize","Visualize FOV",false)local x=gui.Groupbox(k,"Grenade Helper",15,640,297,300)local y=gui.Groupbox(k,"Semirage (WARNING: Ragebots Gets Enabled)",320,1070,297,300)local z=gui.Checkbox(y,"semirage.enable","Enable semirage Options",false)local A=gui.Checkbox(y,"semirage.aimbot","SEMI-AIM",false)local B=gui.Slider(y,"semirage.fovrndmtimer","Dynamic FOV Switch Time",1,1,60)local C=gui.Slider(y,"semirage.fovrndm1","Dynamic Minimum FOV",1,1,30)local D=gui.Slider(y,"semirage.fovrndm2","Dynamic Maximum FOV",1,1,30)local E=gui.Keybox(y,"semirage.autowall","Autowall key",72)local F=gui.Keybox(y,"semirage.obvious","Obvious Mode on Key",72)local G=gui.Keybox(y,"semirage.resolver","Toggle Resolver on key",72)local H=gui.Combobox(y,"semirage.legitAA.mode","Legit AA Modes","Off","Safe","Maximum","Randomized","Jitter","Anti-Brute","Anti-Brute 2")local I=gui.Slider(y,"semirage.legitAA.AntiBrute","Anti Brute Tick time",1,1,80)local J=gui.Slider(y,"semirage.legitAA.rndm1","rotation randomizer 1",1,1,58)local K=gui.Slider(y,"semirage.legitAA.rndm2","rotation randomizer 2",1,1,58)local L=gui.Slider(y,"semirage.legitAA.rndm3","lby randomizer 1",1,-58,1)local M=gui.Slider(y,"semirage.legitAA.rndm4","lby randomizer 2",1,-58,1)local N=gui.Keybox(y,"semirage.aa.inverter.key","Base Rotation Inverter",72)local O=gui.Checkbox(y,"semirage.fakelag","Fake LAG",false)local P=gui.Checkbox(y,"semirage.extra.desyncindicator","Desync Indicator",false)local Q=gui.ColorPicker(y,"semirage.extra.desynccolor","Desync Indicator Color",255,255,255,255)local R=gui.Checkbox(y,"semirage.extra.fovindicator","FOV  Indicator",false)local S=gui.ColorPicker(y,"semirage.extra.fovccator Color",255,255,255,255)local T=gui.Combobox(m,"icarus.showlogo","Icarus LOGO's","Simple","Normal")local U=gui.Checkbox(m,"icarus.pingindicator","Indicate the ping",false)local V=gui.Checkbox(m,"icarus.backtracklines","Backtrack lines",false)local W=gui.Checkbox(x,"gh_enabled","Grenade Helper Enabled",false)local X=gui.Slider(x,"gh_rect_size","Throw Rect Size",10,0,25)local Y=gui.Checkbox(x,"gh_ch_throw","Throw Rectangle Enabled",1)local Z=gui.Checkbox(x,"gh_ch_throwline","Throw Helper Line Enabled",1)local _=gui.Checkbox(x,"gh_ch_standbox","Stand Box Enabled",1)local a0=gui.Checkbox(x,"gh_ch_standbox_ood","Stand Box Out of Distance Custom Color",1)local a1=gui.Checkbox(x,"gh_ch_text","Text Enabled (Name)",1)local a2=gui.Slider(x,"gh_max_distance","Max Distance",3000,0,5000)local a3=gui.Checkbox(x,"gh_fix_strafe","Affect Autostrafe",1)local a4=gui.Checkbox(x,"gh_fix_airstrafe","Affect Airstrafe",1)local a5=gui.Slider(x,"gh_box_radius","GH Box Size",20,0,50)local a6=gui.ColorPicker(n,"hitmarker.test.clr","Hitmarker color",255,255,255,255)local a7=gui.Slider(n,"icarus.hitmarker.size","Hitmarker size",1,1,10)local a8=gui.Checkbox(x,"gh_ch_keybinds","Enable Keybinds",0)local a9=gui.Keybox(x,"gh_kb_add","Add Throw",0)local aa=gui.Keybox(x,"gh_kb_rem","Remove Throw",0)local ab=gui.ColorPicker(Y,"gh_clr_throw","Grenade Helper Throw Point",255,0,0,255)local ac=gui.ColorPicker(Z,"gh_clr_helper","Grenade Helper Line Color",233,212,96,255)local ad=gui.ColorPicker(_,"gh_clr_standbox","Grenade Helper Location",0,230,64,255)local ae=gui.ColorPicker(a0,"gh_clr_standbox_oop","Grenade Helper Location (Out)",22,160,133,255)local af=gui.ColorPicker(a1,"gh_clr_text","Grenade Helper Text Color",255,255,255,255)local ag=gui.Checkbox(m,"icarus.quickpeek","Enable Quickpeek",false)local ah=gui.Keybox(m,"icarus.quickpeek.key","Key for Quickpeek",72)local ai=gui.Checkbox(n,"icarus.quickpeek.visualize","Visualize Quickpeek",false)local aj=gui.ColorPicker(n,"icarus.quickpeek.visualize.clr1","Quickpeek Outline Color",255,255,255,255)local ak=gui.ColorPicker(n,"icarus.quickpeek.visualice.clr2","Quickpeek Fill Color",255,255,255,255)local function al()minValue=C:GetValue()maxValue=D:GetValue()legitaarandom1=J:GetValue()legitaarandom2=K:GetValue()legitaarandomlby1=L:GetValue()legitaarandomlby2=M:GetValue()rotationRANDOMIZED=math.random(legitaarandom1,legitaarandom2)lbyRANDOMIZED=math.random(legitaarandomlby1,legitaarandomlby2)ping=entities.GetPlayerResources():GetPropInt("m_iPing",client.GetLocalPlayerIndex())end;rotation=58;rotation2=56;rotation3=56;rotation4=58;lby2=-60;lby=-60;key=1;SilntAIM=1;o:SetDescription("Enables Sonar ESP.")q:SetDescription("Select which sound should be played.")p:SetDescription("Master volume of the sound.")r:SetDescription("Distance of the FOV.")s:SetDescription("Field of view of the sonar.")t:SetDescription("Rotation of the FOV.")u:SetDescription("Play sound more frequently when enemies are near.")v:SetDescription("Play sound louder when enemies are near.")w:SetDescription("Visualize the FOV.")local am=0;local an={"button17","button15","blip1","blip2","bell1","button10"}local ao=math.rad;local ap=math.cos;local aq=math.sin;local ar=math.sqrt;local as=math.atan;local at=client.WorldToScreen;local au=draw.Line;local av=gui.Checkbox(n,"crosshair.recoilcrosshair","Recoil Crosshair",1)local aw=gui.ColorPicker(av,"recoilcolor","Recoil Crosshair Color",255,255,255,255)local ax=gui.Checkbox(n,"crosshair.recoilidle","Hide Recoil Crosshair When Idle",1)aw:SetDescription("Pick the Color of the recoil Crosshair")av:SetDescription("Enables the recoil Crosshair")ax:SetDescription("Disables the recoil Crosshair if it's Idling")local ay=gui.Slider(m,"icarus.bhophitchance","Bhop hitchance",1,1,100)callbacks.Register("CreateMove",function(az)if gui.GetValue("misc.autojump")~='"Off"'or bit.band(az.buttons,2)==0 or bit.band(entities.GetLocalPlayer():GetPropInt("m_fFlags"),1)==0 or math.random(1,100)>=ay:GetValue()then return end;az.buttons=az.buttons-2 end)local aA=client.GetPlayerIndexByUserID;local aB=client.GetLocalPlayerIndex;local aC;local aD;local aE=gui.Checkbox(m,'lua.quick.switch','Quick Switch AWP',0)local function aF(aG)if aE:GetValue()then if aG:GetName()~='weapon_fire'then return end;if gui.GetValue("misc.fakelatency.enable")then return end;local aH=aB()local aI=aG:GetInt('userid')if aH==aA(aI)then local aJ=aG:GetString('weapon')if aJ=='weapon_awp'then client.Command('slot3',true)flip=true end end end end;client.AllowListener('weapon_fire')callbacks.Register('FireGameEvent','on_weapon_fire',aF)local function aK(aG)if aG:GetName()~='item_equip'then return end;local aH=aB()local aI=aG:GetInt('userid')local aL=aG:GetString('item')if aH==aA(aI)then aD=aL end end;client.AllowListener('item_equip')callbacks.Register('FireGameEvent','on_item_equip',aK)function reset_tick(aM)if flip then if aD~='awp'then client.Command("slot1",true)flip=false end end end;callbacks.Register('CreateMove','reset_tick',reset_tick)local function aN()local aO=0;local aP=entities.GetLocalPlayer()if aP~=nil and not gui.GetValue("rbot.master")then if aP:IsAlive()then local aQ=aP:GetProp("m_bIsScoped")if aQ==256 then aQ=0 end;if aQ==257 then aQ=1 end;local aR=aP:GetPropEntity("m_hActiveWeapon")if aR~=nil then local aS=aR:GetClass()local aT=0;local aU=0;aS=string.gsub(aS,"CWeapon","")if aS=="Aug"or aS=="SG556"then aO=1 else aO=0 end;if aQ==0 or aQ==1 and aO==1 then aT=1 else aT=0 end;if aS=="Taser"or aS=="CKnife"then aT=0 end;if aS=="AWP"or aS=="SCAR20"or aS=="G3SG1"or aS=="SSG08"then aU=1 end;if av:GetValue()and aT==1 then local aV=aP:GetPropVector("localdata","m_Local","m_aimPunchAngle")local aW,aX=aV.x,aV.y;local aY,aZ=draw.GetScreenSize()local a_=aY/2;local b0=aZ/2;local b1=90;if b1==0 then b1=90 end;if aQ==1 and aO==1 then b1=45 end;local b2=aY/b1;local b3=aZ/b1;local b4=0;local b5=0;if gui.GetValue("esp.other.norecoil")then b4=a_-b2*aX*1.2;b5=b0+b3*aW*2 else b4=a_-b2*aX*0.6;b5=b0+b3*aW end;if b4>a_-0.5 and b4<a_ then b4=a_ end;if b4<a_+0.5 and b4>a_ then b4=a_ end;if b5>b0-0.5 and b5<b0 then b5=b0 end;if b5<b0+0.5 and b5>b0 then b5=b0 end;if ax:GetValue()then if b4==a_ and b5==b0 and aU~=1 then return end end;draw.Color(aw:GetValue())draw.FilledRect(b4-3,b5-1,b4+3,b5+1)draw.FilledRect(b4-1,b5-3,b4+1,b5+3)end end end end end;callbacks.Register("Draw","punch",aN)local b6={}local b7=gui.Checkbox(m,"aspect_ratio_check","Aspect Ratio Changer",false)local b8=gui.Slider(m,"aspect_ratio_reference","Force aspect ratio",100,1,199)local function b9(ba,bb)while ba~=0 do ba,bb=math.fmod(bb,ba),ba end;return bb end;local function bc(bd)local be,bf=draw.GetScreenSize()local bg=be*bd/bf;if bd==1 or not b7:GetValue()then bg=0 end;client.SetConVar("r_aspectratio",tonumber(bg),true)end;local function bh()local be,bf=draw.GetScreenSize()for bi=1,200 do local bj=bi*0.01;bj=2-bj;local bk=b9(be*bj,bf)if be*bj/bk<100 or bj==1 then b6[bi]=be*bj/bk..":"..bf/bk end end;local bl=b8:GetValue()*0.01;bl=2-bl;bc(bl)end;callbacks.Register('Draw',"Aspect Ratio",bh)local bm=client.GetConVar("fov_cs_debug")local bn=client.GetConVar("viewmodel_fov")local bo=gui.Slider(n,"view_fov","View",bm,0,120)local bp=gui.Slider(n,"view_model_fov","Viewmodel",bn,0,120)local bq=gui.Slider(n,"view_model_offset_x","Viewmodel X Offset",0,-20,20,0.1)local br=gui.Slider(n,"view_model_offset_y","Viewmodel Y Offset",0,-10,10,0.1)local bs=gui.Slider(n,"view_model_offset_z","Viewmodel Z Offset",0,-10,10,0.1)local function bt()if bo:GetValue()and bp:GetValue()and bq:GetValue()and br:GetValue()and bs:GetValue()then client.SetConVar("fov_cs_debug",bo:GetValue(),true)client.SetConVar("viewmodel_fov",bp:GetValue(),true)client.SetConVar("viewmodel_offset_x",bq:GetValue(),true)client.SetConVar("viewmodel_offset_y",br:GetValue(),true)client.SetConVar("viewmodel_offset_z",bs:GetValue(),true)end end;callbacks.Register("Draw","Field of View",bt)local bu=gui.Checkbox(n,"crosshair.onsniper","Crosshair on Sniper",false)local function bv()if bu:GetValue()then local bw=1;local bx=entities.GetLocalPlayer()if bx==nil then return end;if bw==0 or bw==1 and bx:GetProp("m_bIsScoped")%1==0 or bw==2 and gui.GetValue("vis_scoperemover")==1 or bw==2 and gui.GetValue("vis_scoperemover")~=1 and bx:GetProp("m_bIsScoped")%2==0 then if client.GetConVar("weapon_debug_spread_show")~=3 then client.SetConVar("weapon_debug_spread_show",3,true)end else if client.GetConVar("weapon_debug_spread_show")~=0 then client.SetConVar("weapon_debug_spread_show",0,true)end end end end;callbacks.Register("Draw","force_crosshair_draw",bv)local function by(vector,bz,color)local bA,bB;draw.Color(color[1],color[2],color[3],color[4])local b1=s:GetValue()local bC=180-t:GetValue()local bD=engine.GetViewAngles()bD.y=bD.y+bC+180-b1;bD:Normalize()for rotation=bD.y,bD.y+b1*2,1 do local bE=ao(rotation)local bF=Vector3(bz*ap(bE)+vector.x,bz*aq(bE)+vector.y,vector.z)local a_,b0=at(bF)if b1~=180 then if rotation==bD.y or rotation==bD.y+b1*2 then local bG,bH=at(vector)if a_~=nil and bG~=nil then au(a_,b0,bG,bH)for bi=0,4 do au(a_,b0+bi,bG,bH+bi)end end end end;if a_~=nil and bA~=nil then au(a_,b0,bA,bB)for bi=0,4 do au(a_,b0+bi,bA,bB+bi)end end;bA,bB=a_,b0 end end;local function bI(bJ)return ar(bJ.x*bJ.x+bJ.y*bJ.y+bJ.z*bJ.z)end;local function bK(bL,bM)return Vector3(bL.x-bM.x,bL.y-bM.y,bL.z-bM.z)end;local function bN(bO,bP)local bQ=EulerAngles(0,0,0)local bR=bK(bO,bP)local bS=bI(bR)bQ.x=as(bR.z/bS)*180.0/3.14159265358979323846;bQ.y=as(bR.y/bR.x)*180.0/3.14159265358979323846;bQ.z=0.0;if bR.x>=0.0 then bQ.y=bQ.y+180.0 end;bQ:Normalize()return bQ end;local function bT()local bU=entities.GetLocalPlayer()if bU and bU:IsAlive()and o:GetValue()then local bV=bU:GetAbsOrigin()local bW=0;local bX=0;local bY=1;local bZ=9999;local b1=s:GetValue()local bC=t:GetValue()local bD=engine.GetViewAngles()local b_=r:GetValue()for bi=1,64,1 do local c0=entities.GetByIndex(bi)if c0 and c0:IsAlive()then if c0:GetTeamNumber()~=bU:GetTeamNumber()then bX=bX+1;local c1=c0:GetAbsOrigin()local c2=bN(bV,c1)local c3=ar((bV.x-c1.x)^2+(bV.y-c1.y)^2)if c3<=b_ then c2.y=c2.y-bD.y+bC;c2:Normalize()if c2.y<0 then if c2.y>=b1*-1 then bW=bW+1 end elseif c2.y>0 then if c2.y<=b1 then bW=bW+1 end end;if c3<bZ then bZ=c3 end end end end end;if u:GetValue()then bY=0.1+0.8*bZ/1500 end;if bW>0 and am<globals.RealTime()-bY then local c4=an[q:GetValue()+1]local c5=p:GetValue()/100;if v:GetValue()then c5=(1-bZ/1500)*c5 end;client.Command("playvol buttons/"..c4 .." "..c5,true)am=globals.RealTime()end;if w:GetValue()then by(bV,b_,{255*bW/bX,25,25,155})end end end;callbacks.Register("Draw",bT)local c6=100;local c7=100;local c8=30;local c9=40;local ca="grenade_helper_data.dat"local cb={}local cc=false;local cd=false;local ce=true;local cf=true;local cg=globals.TickCount()local ch;local ci=1;local cj;local ck=globals.TickCount()local cl,cm=0,0;local cf=true;local cn={"auto","smokegrenade","flashbang","hegrenade","molotovgrenade","decoy"}local co={"stand","jump","run","crouch","right","leftright","jumpcrouch","jumpleftright","jumpright","runjump"}local cp={"[GH] Welcome to GH Setup. Type 'cancel' at any time to cancel. Please enter the name of the throw (e.g. CT to B site):","[GH] Please enter the throw type (stand / jump / run / crouch / right / leftright / jumpcrouch / runjump / jumpleftright / jumpright):"}local cq=file.Open(ca,"a")cq:Close()local cr;function gameEventHandler(cs)if W:GetValue()==false then return end;local ct=cs:GetName()if ct=="player_say"and ch~=nil then local cu=client.GetLocalPlayerIndex()print(cu)local cv=cs:GetInt('userid')local cw=client.GetPlayerIndexByUserID(cv)print(cw)if cu~=cw then return end;ck=globals.TickCount()local cx=cs:GetString('text')if cx=="cancel"then cj="[GH] Throw cancelled"ch=nil;ci=0;return end;if string.sub(cx,1,4)=="[GH]"then return end;if ci==1 then ch.name=cx elseif ci==2 then if hasValue(co,cx)==false then cj="[GH] The throw type '"..cx.."' is invalid, please enter one of the following values: stand / jump / run / crouch / right"return end;ch.type=cx;cj="[GH] Your throw '"..ch.name.."' - "..ch.type.." has been added."table.insert(cb[cr],ch)ch=nil;local cy=convertTableToDataString(cb)local cz=file.Open(ca,"w")if cz~=nil then cz:Write(cy)cz:Close()end;ci=0;return else ci=0;return end;ci=ci+1;cj=cp[ci]return end end;function doAdd(az)local aP=entities.GetLocalPlayer()if cr==nil or cb[cr]==nil or aP==nil or not aP:IsAlive()then return end;local cA=aP:GetAbsOrigin()local bQ=az:GetViewAngles()local cB=getWeaponName(aP)if cB~=nil and cB~="smokegrenade"and cB~="flashbang"and cB~="molotovgrenade"and cB~="hegrenade"and cB~="decoy"then return end;local cC={name="",type="not_set",nade=cB,pos={x=cA.x,y=cA.y,z=cA.z},ax=bQ.x,ay=bQ.y}ch=cC;ci=1;cj=cp[ci]end;function removeFirstThrow(cD)for bi,cE in ipairs(cb[cr])do if cE.name==cD.name and cE.pos.x==cD.pos.x and cE.pos.y==cD.pos.y and cE.pos.z==cD.pos.z then return table.remove(cb[cr],bi)end end end;function doDel(cD)if cr==nil or cb[cr]==nil then return end;removeFirstThrow(cD)local cy=convertTableToDataString(cb)local cz=file.Open(ca,"w")if cz~=nil then cz:Write(cy)cz:Close()end end;function moveEventHandler(az)if W:GetValue()==false then return end;local aP=entities.GetLocalPlayer()if cr==nil or cb==nil or cb[cr]==nil or aP==nil or not aP:IsAlive()then ch=nil;ci=1;cj=nil;return end;if ch~=nil then return end;local cF=a9:GetValue()local cG=aa:GetValue()if a8:GetValue()==false or cF==0 and cG==0 then return end;if cg~=nil and cg>globals.TickCount()then cg=globals.TickCount()end;if cF~=0 and input.IsButtonDown(cF)and globals.TickCount()-cg>c8 then cg=globals.TickCount()return doAdd(az)end;local cH,cI=getClosestThrow(cb[cr],aP,az)if cH==nil or cI>a5:GetValue()then return end;if cG~=0 and input.IsButtonDown(cG)and globals.TickCount()-cg>c8 then cg=globals.TickCount()return doDel(cH)end end;function drawEventHandler()if W:GetValue()==false then return end;if cf then loadData()cf=false end;cl,cm=draw.GetScreenSize()local cJ=engine.GetMapName()if cJ==nil or cb==nil then return end;if cb[cJ]==nil then cb[cJ]={}end;if cr~=cJ then cr=cJ end;if cb[cr]==nil then return end;if ck~=nil and ck>globals.TickCount()then ck=globals.TickCount()end;if cj~=nil and globals.TickCount()-ck>100 then client.ChatTeamSay(cj)cj=nil end;showNadeThrows()end;function loadData()local cz=file.Open(ca,"r")if cz==nil then return end;local cK=cz:Read()cz:Close()if cK~=nil and cK~=""then cb=parseStringifiedTable(cK)end end;function showNadeThrows()local aP=entities:GetLocalPlayer()if aP==nil then return end;local cA=aP:GetAbsOrigin()local aS=getWeaponName(aP)if aS~=nil and aS~="smokegrenade"and aS~="flashbang"and aS~="molotovgrenade"and aS~="hegrenade"and aS~="decoy"then if a3:GetValue()then gui.SetValue("misc.strafe.enable",1)end;if a4:GetValue()then gui.SetValue("misc.strafe.air",1)end;return end;local cL,cM=getActiveThrows(cb[cr],aP,aS)if a3:GetValue()then gui.SetValue("misc.strafe.enable",1)end;if a4:GetValue()then gui.SetValue("misc.strafe.air",1)end;for bi=1,#cL do local cD=cL[bi]local cN=Vector3(cD.pos.x,cD.pos.y,cD.pos.z)local cO,cP=client.WorldToScreen(cN)if cM then if a3:GetValue()then gui.SetValue("misc.strafe.enable",0)end;if a4:GetValue()then gui.SetValue("misc.strafe.air",0)end;local cQ=64;if cD.type=="crouch"then cQ=46 end;local cR,cS,cT=getThrowPosition(cD.pos.x,cD.pos.y,cD.pos.z,cD.ax,cD.ay,cQ)local cU=Vector3(cR,cS,cT)local cV,cW=client.WorldToScreen(cU)if cV~=nil and cW~=nil then if Y:GetValue()then draw.Color(ab:GetValue())local cX=X:GetValue()draw.RoundedRect(cV-cX,cW-cX,cV+cX,cW+cX)end;if Z:GetValue()then draw.Color(ac:GetValue())draw.Line(cV,cW,cl/2,cm/2)end;if a1:GetValue()then draw.Color(af:GetValue())local cY,cZ=draw.GetTextSize(cD.name)draw.Text(cV-cY/2,cW-30-cZ/2,cD.name)cY,cZ=draw.GetTextSize(cD.type)draw.Text(cV-cY/2,cW-20-cZ/2,cD.type)end end end;local c_=Vector3(cD.pos.x-a5:GetValue()/2,cD.pos.y-a5:GetValue()/2,cD.pos.z)local d0,d1=client.WorldToScreen(c_)local d2=Vector3(cD.pos.x-a5:GetValue()/2,cD.pos.y+a5:GetValue()/2,cD.pos.z)local d3,d4=client.WorldToScreen(d2)local d5=Vector3(cD.pos.x+a5:GetValue()/2,cD.pos.y-a5:GetValue()/2,cD.pos.z)local d6,d7=client.WorldToScreen(d5)local d8=Vector3(cD.pos.x+a5:GetValue()/2,cD.pos.y+a5:GetValue()/2,cD.pos.z)local d9,da=client.WorldToScreen(d8)if cO~=nil and cP~=nil and d0~=nil and d1~=nil and d3~=nil and d4~=nil and d6~=nil and d7~=nil and d9~=nil and da~=nil then if cD.distance<a2:GetValue()then if cD.name~=nil then if a1:GetValue()then local cY,cZ=draw.GetTextSize(cD.name)draw.Color(af:GetValue())draw.Text(cO-cY/2,cP-20-cZ/2,cD.name)end end;if cM then if _:GetValue()then draw.Color(ad:GetValue())else draw.Color(255,255,255,0)end else if a0:GetValue()then draw.Color(ae:GetValue())end end;draw.Line(d0,d1,d3,d4)draw.Line(d0,d1,d6,d7)draw.Line(d0,d1,d9,da)draw.Line(d9,da,d3,d4)draw.Line(d9,da,d6,d7)draw.Line(d3,d4,d6,d7)end end end end;function getThrowPosition(db,dc,dd,de,df,cQ)return db-c7*math.cos(math.rad(df+180)),dc-c7*math.sin(math.rad(df+180)),dd-c7*math.tan(math.rad(de))+cQ end;function getWeaponName(aP)if aP~=nil then local aR=aP:GetPropEntity("m_hActiveWeapon")if aR==nil then return nil end;local aS=aR:GetClass()if aS~=nil then aS=aS:gsub("CWeapon","")aS=aS:lower()if aS:sub(1,1)=="c"then aS=aS:sub(2)end;if aS=="incendiarygrenade"then aS="molotovgrenade"end end;return aS end;return nil end;function getDistanceToTarget(dg,dh,di,cR,cS,cT)local b2=dg-cR;local b3=dh-cS;local dj=di-cT;return math.sqrt(b2*b2+b3*b3+dj*dj)end;function dump(dk)if type(dk)=='table'then local dl='{ 'for dm,cE in pairs(dk)do if type(dm)~='number'then dm='"'..dm..'"'end;dl=dl..'['..dm..'] = '..dump(cE)..','end;return dl..'} 'else return tostring(dk)end end;function getActiveThrows(dn,aP,dp)local dq={}local dr={}for bi=1,#dn do local cD=dn[bi]if cD~=nil and cD.nade==dp then local cA=aP:GetAbsOrigin()local cI=getDistanceToTarget(cA.x,cA.y,cD.pos.z,cD.pos.x,cD.pos.y,cD.pos.z)cD.distance=cI;if cI<a5:GetValue()then table.insert(dr,cD)else table.insert(dq,cD)end end end;if#dr>0 then return dr,true end;return dq,false end;function getClosestThrow(dn,aP,az)local cH;local ds;local dt;local cA=aP:GetAbsOrigin()for bi=1,#dn do local cD=dn[bi]local cI=getDistanceToTarget(cA.x,cA.y,cD.pos.z,cD.pos.x,cD.pos.y,cD.pos.z)local cQ=64;if cD.type=="crouch"then cQ=46 end;local db,dc,dd=getThrowPosition(cD.pos.x,cD.pos.y,cD.pos.z,cD.ax,cD.ay,cQ)local cU=Vector3(db,dc,dd)local cV,cW=client.WorldToScreen(cU)local du;if cV~=nil and cW~=nil then du=math.abs(cl/2-cV+cm/2-cW)end;if ds==nil or cI<=a5:GetValue()and(dt==nil or dt~=nil and du~=nil and du<dt)or dt==nil and cI<ds then cH=cD;ds=cI;dt=du end end;return cH,ds end;function parseStringifiedTable(dv)local dw={}local dx={}for bi in string.gmatch(dv,"([^\n]*)\n")do table.insert(dx,bi)end;for bi=1,#dx do local dy={}for dz in string.gmatch(dx[bi],"([^,]*)")do table.insert(dy,dz)end;local dA=dy[1]if dw[dA]==nil then dw[dA]={}end;table.insert(dw[dA],{name=dy[3],type=dy[5],nade=dy[7],pos={x=tonumber(dy[9]),y=tonumber(dy[11]),z=tonumber(dy[13])},ax=tonumber(dy[15]),ay=tonumber(dy[17])})end;return dw end;function convertTableToDataString(dB)local dC=""for dA,dn in pairs(dB)do for bi,cD in ipairs(dn)do if cD~=nil then dC=dC..dA..','..cD.name..','..cD.type..','..cD.nade..','..cD.pos.x..','..cD.pos.y..','..cD.pos.z..','..cD.ax..','..cD.ay..'\n'end end end;return dC end;function hasValue(dD,dE)for dF,cy in ipairs(dD)do if cy==dE then return true end end;return false end;local dG=false;local dH=140;local dI=10;local dJ=1;local dK=1;local dL=1;local dM=50;local dN=0;local dO=0;function DesyncFlick()if z:GetValue()then dL=dH;dM=dH+dI;if dN>dL then rotation3=rotation3*-1;rotation4=rotation4*-1;if dN==dM then dN=0 end else if dO>1 then rotation3=rotation3;rotation4=rotation4;dO=0 end end;dN=dN+1;dO=dO+1 end end;function delaytimer(az)if z:GetValue()then if az.tick_count%B:GetValue()==0 then fovrandomized=math.random(minValue,maxValue)end end end;local function dP()rotationAmount=gui.GetValue("rbot.antiaim.base.rotation")lbyAmount=gui.GetValue("rbot.antiaim.base.lby")yawAmount=gui.GetValue("rbot.antiaim.base")fovAmount=gui.GetValue("rbot.aim.target.fov")end;local function dQ()if input.IsButtonPressed(N:GetValue())then rotation=rotation*-1;rotation2=rotation2*-1;rotation3=rotation3*-1;rotation4=rotation4*-1;lby=lby*-1;lby2=lby2*-1;rotationRANDOMIZED=rotationRANDOMIZED*-1;lbyRANDOMIZED=lbyRANDOMIZED*-1 end end;local function dR(az)setFont(b)if az.tick_count%I:GetValue()==0 then if H:GetValue()==4 then rotation2=rotation2*-1 end end end;local function dS()if z:GetValue()then if input.IsButtonPressed(E:GetValue())then toggle=not toggle end;if toggle then SetVal("rbot.hitscan.mode.shared.autowall",1)SetVal("rbot.hitscan.mode.pistol.autowall",1)SetVal("rbot.hitscan.mode.hpistol.autowall",1)SetVal("rbot.hitscan.mode.smg.autowall",1)SetVal("rbot.hitscan.mode.rifle.autowall",1)SetVal("rbot.hitscan.mode.shotgun.autowall",1)SetVal("rbot.hitscan.mode.scout.autowall",1)SetVal("rbot.hitscan.mode.asniper.autowall",1)SetVal("rbot.hitscan.mode.sniper.autowall",1)SetVal("rbot.hitscan.mode.lmg.autowall",1)else SetVal("rbot.hitscan.mode.shared.autowall",0)SetVal("rbot.hitscan.mode.pistol.autowall",0)SetVal("rbot.hitscan.mode.hpistol.autowall",0)SetVal("rbot.hitscan.mode.smg.autowall",0)SetVal("rbot.hitscan.mode.rifle.autowall",0)SetVal("rbot.hitscan.mode.shotgun.autowall",0)SetVal("rbot.hitscan.mode.scout.autowall",0)SetVal("rbot.hitscan.mode.asniper.autowall",0)SetVal("rbot.hitscan.mode.sniper.autowall",0)SetVal("rbot.hitscan.mode.lmg.autowall",0)end end end;local function dT()if z:GetValue()then if A:GetValue()then setFont(d)if input.IsButtonPressed(F:GetValue())then toggle2=not toggle2 end;if toggle2 then color(10,255,10)text(5,840,"OBV")SetVal("rbot.aim.key",key-1)SetVal("rbot.aim.target.fov",fovrandomized+3)SetVal("rbot.aim.target.silentaim",SilntAIM)else color(255,69,0)text(5,840,"OBV")SetVal("rbot.aim.key",key)SetVal("rbot.aim.target.fov",fovrandomized)SetVal("rbot.aim.target.silentaim",SilntAIM-1)end end end end;local function dU()if z:GetValue()then setFont(b)if A:GetValue()then color(124,176,34)text(5,920,"SEMIAIM")SetVal("rbot.aim.enable",1)SetVal("rbot.aim.target.fov",fovrandomized)SetVal("rbot.accuracy.weapon.rifle.hitchance",38)SetVal("rbot.accuracy.weapon.rifle.mindmg",2)SetVal("rbot.accuracy.weapon.pistol.hitchance",34)SetVal("rbot.accuracy.weapon.pistol.mindmg",2)SetVal("rbot.accuracy.weapon.hpistol.hitchance",35)SetVal("rbot.accuracy.weapon.hpistol.mindmg",5)SetVal("rbot.accuracy.weapon.smg.hitchance",22)SetVal("rbot.accuracy.weapon.smg.mindmg",2)SetVal("rbot.accuracy.weapon.shotgun.hitchance",40)SetVal("rbot.accuracy.weapon.shotgun.mindmg",5)SetVal("rbot.accuracy.weapon.scout.hitchance",55)SetVal("rbot.accuracy.weapon.scout.mindmg",5)SetVal("rbot.accuracy.weapon.asniper.hitchance",40)SetVal("rbot.accuracy.weapon.asniper.mindmg",2)SetVal("rbot.accuracy.weapon.sniper.hitchance",65)SetVal("rbot.accuracy.weapon.sniper.mindmg",5)SetVal("rbot.accuracy.weapon.lmg.hitchance",15)SetVal("rbot.accuracy.weapon.lmg.mindmg",6)SetVal("rbot.aim.key",key)else color(255,25,25,255)text(5,920,"SEMIAIM")SetVal("rbot.aim.enable",0)end end end;local function dV()if z:GetValue()then if ping>70 then SetVal("rbot.antiaim.base.rotation",0)SetVal("rbot.antiaim.base.lby",0)SetVal("rbot.antiaim.advanced.autodir","Off")SetVal("rbot.antiaim.advanced.antialign","Off")SetVal("rbot.antiaim.advanced.pitch","Off")SetVal("rbot.antiaim.base",0)elseif ping<70 then if H:GetValue()==0 then setFont(b)text(5,900,"OFF")SetVal("rbot.antiaim.base.rotation",0)SetVal("rbot.antiaim.base.lby",0)SetVal("rbot.antiaim.advanced.autodir","Off")SetVal("rbot.antiaim.advanced.antialign","Off")SetVal("rbot.antiaim.advanced.pitch","Off")SetVal("rbot.antiaim.base",0)elseif H:GetValue()==1 then setFont(b)text(5,900,"MINIMUM")SetVal("rbot.antiaim.base.rotation",rotation)SetVal("rbot.antiaim.base.lby",0)SetVal("rbot.antiaim.advanced.autodir","Off")SetVal("rbot.antiaim.advanced.antialign","Off")SetVal("rbot.antiaim.advanced.pitch","Off")SetVal("rbot.antiaim.base",0)elseif H:GetValue()==2 then setFont(b)text(5,900,"MAXIMUM")SetVal("rbot.antiaim.base",0)SetVal("rbot.antiaim.base.rotation",rotation)SetVal("rbot.antiaim.base.lby",lby)SetVal("rbot.antiaim.advanced.autodir","Off")SetVal("rbot.antiaim.advanced.antialign",1)SetVal("rbot.antiaim.advanced.pitch","Off")elseif H:GetValue()==3 then setFont(b)text(5,900,"RANDOMIZED")SetVal("rbot.antiaim.base",0)SetVal("rbot.antiaim.base.rotation",rotationRANDOMIZED)SetVal("rbot.antiaim.base.lby",lbyRANDOMIZED)SetVal("rbot.antiaim.advanced.autodir","Off")SetVal("rbot.antiaim.advanced.antialign",1)SetVal("rbot.antiaim.advanced.pitch","Off")elseif H:GetValue()==4 then setFont(b)text(5,900,"JITTER")SetVal("rbot.antiaim.base",0)SetVal("rbot.antiaim.base.rotation",rotation2)SetVal("rbot.antiaim.base.lby",lby2)SetVal("rbot.antiaim.advanced.autodir","Off")SetVal("rbot.antiaim.advanced.antialign",0)SetVal("rbot.antiaim.advanced.pitch","Off")elseif H:GetValue()==5 then setFont(b)text(5,900,"ANTI-BRUTE")SetVal("rbot.antiaim.base",0)SetVal("rbot.antiaim.base.rotation",rotation3)SetVal("rbot.antiaim.base.lby",lby2)SetVal("rbot.antiaim.advanced.autodir","Off")SetVal("rbot.antiaim.advanced.antialign",0)SetVal("rbot.antiaim.advanced.pitch","Off")elseif H:GetValue()==6 then setFont(b)text(5,900,"ANTI-BRUTE 2")SetVal("rbot.antiaim.base",0)SetVal("rbot.antiaim.base.rotation",rotation4)SetVal("rbot.antiaim.base.lby",lby2)SetVal("rbot.antiaim.advanced.autodir","Off")SetVal("rbot.antiaim.advanced.antialign",0)SetVal("rbot.antiaim.advanced.pitch","Off")end;if O:GetValue()then setFont(b)color(0,204,0)text(5,880,"FL")SetVal("misc.fakelag.enable",1)SetVal("misc.fakelag.factor",4.0)else color(255,0,0)text(5,880,"FL")SetVal("misc.fakelag.enable",0)end end end end;local function dW()if z:GetValue()then if A:GetValue()then setFont(d)if GetVal("rbot.hitscan.mode.shared.autowall")then color(124,176,34)text(5,860,"AWALL")else color(255,25,55)text(5,860,"AWALL")end end end end;local function dX()if z:GetValue()then if A:GetValue()then setFont(d)if input.IsButtonPressed(G:GetValue())then toggle3=not toggle3 end;if toggle3 then color(124,176,34)text(5,660,"RESOLVER")SetVal("rbot.accuracy.posadj.resolver",1)else color(255,10,10)text(5,660,"RESOLVER")SetVal("rbot.accuracy.posadj.resolver",0)end end end end;local function dY()if z:GetValue()then setFont(d)if P:GetValue()then if lbyAmount>1 then color(Q:GetValue())text(890,530,"«")elseif lbyAmount<-1 then color(Q:GetValue())text(1010,530,"»")end end end end;local function dZ()if z:GetValue()then setFont(d)if R:GetValue()then color(S:GetValue())text(5,820,"FOV:   °")text(55,820,fovAmount)end end end;local function d_()text(5,540,ping)end;local function e0()if T:GetValue()==0 then setFont(e)color(255,255,255,255)text(5,5,"Icarus 1.0.8")elseif T:GetValue()==1 then color(255,255,255,255)draw.SetTexture(j)draw.FilledRect(-15,-15,220,220)end end;EssentialsNP={}EssentialsNP.Vector3={}EssentialsNP.Drawing={}local function e1(e2,e3)return{e2[1]+e3[1],e2[2]+e3[2],e2[3]+e3[3]}end;local function e4(e2,e3)return{e2[1]-e3[1],e2[2]-e3[2],e2[3]-e3[3]}end;local function e5(e2,e3)local e6=e4(e2,e3)return math.sqrt(e6[1]^2+e6[2]^2+e6[3]^2)end;local function e7(e2,e3)local e6=e4(e2,e3)local e8=e5(e2,e3)local e9=math.asin(e6[3]/e8)*-(180/math.pi)local ea=math.atan(e6[2]/e6[1])*180/math.pi;if e6[1]<=0 then ea=ea+180 end;return{e9,ea}end;local function eb(e2)local ec=math.floor(math.sin(e2*3)*127+128)local ed=math.floor(math.sin(e2*3+2)*127+128)local ee=math.floor(math.sin(e2*3+4)*127+128)return{ec,ed,ee}end;EssentialsNP.Vector3.Add=e1;EssentialsNP.Vector3.Subtract=e4;EssentialsNP.Vector3.Hypotenuse=e5;EssentialsNP.Vector3.GetAngles=e7;EssentialsNP.Drawing.Hue=eb;local ef={100,100,100,255}local eg=false;local eh=1;local function ei()if V:GetValue()then local Legitbot=true else local Legitbot=false end end;local ej={}local ek={nil,nil}local function el(em)if em:GetName()=="round_start"or em:GetName()=="round_prestart"then ej={}end end;local function en()LocalPlayer=entities.GetLocalPlayer()for dF,eo in pairs(entities.FindByClass("CCSPlayer"))do local ep=false;local eq=0;if V:GetValue()and gui.GetValue("rbot.master")then ep=true end;if ep then if gui.GetValue("misc.master")and gui.GetValue("misc.fakelatency.enable")then eq=gui.GetValue("misc.fakelatency.amount")end;if eo:GetIndex()~=LocalPlayer:GetIndex()and(LocalPlayer:GetTeamNumber()~=eo:GetTeamNumber()or FriendlyFire)and eo:IsAlive()then lastTick={nil,nil}if ej[eo:GetIndex()]==nil then ej[eo:GetIndex()]={}end;table.insert(ej[eo:GetIndex()],{{eo:GetHitboxPosition("HITGROUP_HEAD")},globals.RealTime()})for er,es in pairs(ej[eo:GetIndex()])do if es[2]+0.2+eq<globals.RealTime()then table.remove(ej[eo:GetIndex()],er)else local et=false;local eu,ev=client.WorldToScreen(es[1][1],es[1][2],es[1][3])local ew={LocalPlayer:GetHitboxPosition("HITGROUP_HEAD")}if Legitbot==false then if engine.TraceLine(es[1][1],es[1][2],es[1][3],ew[1],ew[2],ew[3],1)==1 then et=true end end;if eu~=nil and ev~=nil and not et then local ex={}if es[2]-0.2<=globals.RealTime()-eq then if RainbowTrail then ex=EssentialsNP.Drawing.Hue(es[2])ex[4]=255 else ex={gui.GetValue("esp.chams.backtrack.occluded.clr")}end else ex=ef end;draw.Color(ex[1],ex[2],ex[3],ex[4])if eh>=1 then draw.FilledRect(eu-eh,ev-eh,eu+eh,ev+eh)else if lastTick[1]~=nil and lastTick[2]~=nil then draw.Line(eu,ev,lastTick[1],lastTick[2])end;lastTick={eu,ev}end end end end end end end end;function GUIHandler()if z:GetValue()then A:SetInvisible(false)B:SetInvisible(false)F:SetInvisible(false)H:SetInvisible(false)J:SetInvisible(false)K:SetInvisible(false)L:SetInvisible(false)M:SetInvisible(false)C:SetInvisible(false)D:SetInvisible(false)N:SetInvisible(false)O:SetInvisible(false)P:SetInvisible(false)Q:SetInvisible(false)R:SetInvisible(false)S:SetInvisible(false)G:SetInvisible(false)E:SetInvisible(false)I:SetInvisible(false)else A:SetInvisible(true)B:SetInvisible(true)F:SetInvisible(true)H:SetInvisible(true)J:SetInvisible(true)K:SetInvisible(true)L:SetInvisible(true)M:SetInvisible(true)C:SetInvisible(true)D:SetInvisible(true)N:SetInvisible(true)O:SetInvisible(true)P:SetInvisible(true)Q:SetInvisible(true)R:SetInvisible(true)S:SetInvisible(true)G:SetInvisible(true)E:SetInvisible(true)I:SetInvisible(true)end;if W:GetValue()then X:SetInvisible(false)Y:SetInvisible(false)Z:SetInvisible(false)_:SetInvisible(false)a0:SetInvisible(false)a1:SetInvisible(false)a8:SetInvisible(false)a2:SetInvisible(false)a3:SetInvisible(false)a4:SetInvisible(false)a5:SetInvisible(false)a9:SetInvisible(false)aa:SetInvisible(false)ac:SetInvisible(false)ad:SetInvisible(false)ae:SetInvisible(false)af:SetInvisible(false)ab:SetInvisible(false)else X:SetInvisible(true)Y:SetInvisible(true)Z:SetInvisible(true)_:SetInvisible(true)a0:SetInvisible(true)a1:SetInvisible(true)a8:SetInvisible(true)a2:SetInvisible(true)a3:SetInvisible(true)a4:SetInvisible(true)a5:SetInvisible(true)a9:SetInvisible(true)aa:SetInvisible(true)ac:SetInvisible(true)ad:SetInvisible(true)ae:SetInvisible(true)af:SetInvisible(true)ab:SetInvisible(true)end;if o:GetValue()then x:SetPosY(600)p:SetInvisible(false)q:SetInvisible(false)r:SetInvisible(false)s:SetInvisible(false)t:SetInvisible(false)u:SetInvisible(false)v:SetInvisible(false)w:SetInvisible(false)else x:SetPosY(120)p:SetInvisible(true)q:SetInvisible(true)r:SetInvisible(true)s:SetInvisible(true)t:SetInvisible(true)u:SetInvisible(true)v:SetInvisible(true)w:SetInvisible(true)end end;local ey={}local ez=false;local eA=false;local function eB(eC,bz)if not ai:GetValue()then return end;local eD={client.WorldToScreen(Vector3(eC.x,eC.y,eC.z))}for eE=1,360,1 do local eF=nil;local eG=nil;if eC.z==nil then eF={eC.x+math.sin(math.rad(eE))*bz,eC.y+math.cos(math.rad(eE))*bz}eG={eC.x+math.sin(math.rad(eE-1))*bz,eC.y+math.cos(math.rad(eE-1))*bz}else eF={client.WorldToScreen(Vector3(eC.x+math.sin(math.rad(eE))*bz,eC.y+math.cos(math.rad(eE))*bz,eC.z))}eG={client.WorldToScreen(Vector3(eC.x+math.sin(math.rad(eE-1))*bz,eC.y+math.cos(math.rad(eE-1))*bz,eC.z))}end;if eF[1]~=nil and eF[2]~=nil and eG[1]~=nil and eG[2]~=nil then draw.Color(ak:GetValue())draw.Triangle(eF[1],eF[2],eG[1],eG[2],eD[1],eD[2])draw.Color(aj:GetValue())draw.Line(eF[1],eF[2],eG[1],eG[2])end end end;callbacks.Register("Draw",function()local eH=entities.GetLocalPlayer()if input.IsButtonDown(ah:GetValue())and not ez then ey=eH:GetAbsOrigin()ez=true end;if ez and input.IsButtonDown(ah:GetValue())then eB(ey,12)else if ez then ey=eH:GetAbsOrigin()end end end)callbacks.Register("CreateMove",function(az)local eH=entities.GetLocalPlayer()if eA and input.IsButtonDown(ah:GetValue())then local eI={engine.GetViewAngles().x,engine.GetViewAngles().y,engine.GetViewAngles().z}local eJ={vector.Subtract({ey.x,ey.y,ey.z},{eH:GetAbsOrigin().x,eH:GetAbsOrigin().y,eH:GetAbsOrigin().z})}az.forwardmove=(math.sin(math.rad(eI[2]))*eJ[2]+math.cos(math.rad(eI[2]))*eJ[1])*200;az.sidemove=(math.cos(math.rad(eI[2]))*-eJ[2]+math.sin(math.rad(eI[2]))*eJ[1])*200;if vector.Length(eJ)<10 then eA=false end end end)client.AllowListener("player_hurt")callbacks.Register("FireGameEvent",function(eK)local eL=client.GetLocalPlayerIndex()local eM=client.GetPlayerIndexByUserID(eK:GetInt("userid"))local eN=client.GetPlayerIndexByUserID(eK:GetInt("attacker"))if eM==eL and eN~=eL then eA=true end end)client.AllowListener("round_start")client.AllowListener("round_prestart")callbacks.Register("Draw","backtrackable_line_draw",en)callbacks.Register("FireGameEvent","backtrackable_line_event",el)client.AllowListener("player_say")callbacks.Register("FireGameEvent","GH_EVENT",gameEventHandler)callbacks.Register("CreateMove","GH_MOVE",moveEventHandler)callbacks.Register("CreateMove",delaytimer)callbacks.Register("CreateMove",dR)callbacks.Register("Draw","GH_DRAW",drawEventHandler)callbacks.Register("Draw",dU)callbacks.Register("Draw",dV)callbacks.Register("Draw",dQ)callbacks.Register("Draw",dS)callbacks.Register("Draw",dW)callbacks.Register("Draw",dT)callbacks.Register("Draw",dX)callbacks.Register("Draw",e0)callbacks.Register("Draw",dP)callbacks.Register("Draw",dY)callbacks.Register("Draw",dZ)callbacks.Register("Draw",al)callbacks.Register("Draw",d_)callbacks.Register("Draw","DesyncFlick",DesyncFlick)callbacks.Register("Draw",ei)callbacks.Register("Draw",GUIHandler)local eO={}local eP=gui.GetValue("esp.local.thirdpersondist")local function eQ(eR,...)table.insert(eO,{["time"]=eR,["delay"]=globals.RealTime()+eR,["tp"]=0})end;local function eS(eT,eU)local eV=eP;print(eU.tp)if globals.RealTime()<eU.delay then if eU.tp<eV then eU.tp=eU.tp+(eV-eU.tp)*0.15 end;if eU.tp>eV then eU.tp=eV end;gui.SetValue("esp.local.thirdpersondist",eU.tp)else table.remove(eO,eT)end end;callbacks.Register('Draw',function()if input.IsButtonPressed(gui.GetValue("esp.local.thirdpersonkey"))then eQ(1)end;for dF,eW in pairs(eO)do eS(dF,eW)end end)local eX=0;local eY=0;local eZ=6;function Sounds(eK,e_)if eK:GetName()=='player_hurt'then local f0=client.GetLocalPlayerIndex()local f1=eK:GetInt('userid')local f2=eK:GetInt('attacker')local f3=client.GetPlayerNameByUserID(f1)local f4=client.GetPlayerIndexByUserID(f1)local f5=client.GetPlayerNameByUserID(f2)local f6=client.GetPlayerIndexByUserID(f2)if f6==f0 and f4~=f0 then eX=globals.RealTime()client.Command("play buttons\\arena_switch_press_02.wav",true)end end end;function DrawingHook()local f7,f8=draw.GetScreenSize()f7=f7/2;f8=f8/2;local f9=255/0.3*globals.FrameTime()local fa,fb,fc=gui.GetValue("hitmarker.test.clr")if eX+0.4>globals.RealTime()then eY=255 else eY=eY-f9 end;if eY>0 then draw.Color(fa,fc,fb,eY)draw.Line(f7-eZ*2,f8-eZ*2,f7-eZ,f8-eZ)draw.Line(f7-eZ*2,f8+eZ*2,f7-eZ,f8+eZ)draw.Line(f7+eZ*2,f8+eZ*2,f7+eZ,f8+eZ)draw.Line(f7+eZ*2,f8-eZ*2,f7+eZ,f8-eZ)end end;client.AllowListener('player_hurt')callbacks.Register("Draw","DrawingHook",DrawingHook)callbacks.Register('FireGameEvent','Hitsound',Sounds)

--- Auto updater
local function handleUpdates()

    if (update_available and not update_downloaded) then
        ICARUS_UPDATER_TEXT:SetText("Update is getting downloaded.")
        local new_version_content = http.Get(SCRIPT_FILE_ADDR);
        local old_script = file.Open(SCRIPT_FILE_NAME, "w");
        old_script:Write(new_version_content);
        old_script:Close();
        update_available = false;
        update_downloaded = true;
    end

    if (update_downloaded) then
        ICARUS_UPDATER_TEXT:SetText("Update available, please reload the script.")
        return;
    end

    if (not version_check_done) then
        version_check_done = true;
        local version = http.Get(VERSION_FILE_ADDR);
        if (version ~= VERSION_NUMBER) then
            update_available = true;
        end
    end
end


callbacks.Register("Draw", handleUpdates)