local SCRIPT_FILE_NAME = GetScriptName();
local SCRIPT_FILE_ADDR = "https://raw.githubusercontent.com/vpumav/ICARUS/master/ICARUS.lua";
local VERSION_FILE_ADDR = "https://raw.githubusercontent.com/vpumav/ICARUS/master/version.txt"; --- in case of update i need to update this. (Note by superyu'#7167 "so i don't forget it."
local VERSION_NUMBER = "1.0.8"; --- This too
local version_check_done = false;
local update_downloaded = false;
local update_available = false;

--- Auto Updater GUI Stuff
local ICARUS_UPDATER_TAB = gui.Tab(gui.Reference("Settings"), "icarus.updater.tab", "ICARUS™ Autoupdater")
local ICARUS_UPDATER_GROUP = gui.Groupbox(ICARUS_UPDATER_TAB, "Auto Updater for ICARUS™ | v" .. VERSION_NUMBER, 15, 15, 600, 600)
local ICARUS_UPDATER_TEXT = gui.Text(ICARUS_UPDATER_GROUP, "")
--- AUTO UPDATER END



local a=false;setFont=draw.SetFont;createFont=draw.CreateFont;getScreenSize=draw.GetScreenSize;getLocal=entities.GetLocalPlayer;color=draw.Color;text=draw.TextShadow;SetVal=gui.SetValue;GetVal=gui.GetValue;local b=createFont("Verdana",30,1500)local c=createFont("Arial",30,1500)local d=createFont("Segoe UI",30,1500)local e=createFont("Segoe UI",20,1500)local f=http.Get("https://i.ibb.co/2YKz5C7/Icarus-FERTIG.png")local g,h,i=common.DecodePNG(f)local j=draw.CreateTexture(g,h,i)local k=gui.Reference(ALEGIT)local l=gui.Groupbox(k,"Advanced Legit Bot",15,5,297,300)local m=gui.Groupbox(k,"Extra's",320,445,297,300)local n=gui.Checkbox(l,"lbot.sonar.enabled","Enable",false)local o=gui.Slider(l,"lbot.sonar.volume","Volume",50,1,100,1)local p=gui.Combobox(l,"lbot.sonar.enabled","Sound","Button 17","Button 15","Blip 1","Blip 2","Bell","Button 10")local q=gui.Slider(l,"lbot.sonar.distance","Distance",200,100,1500,10)local r=gui.Slider(l,"lbot.sonar.fov","FOV",180,1,180,1)local s=gui.Slider(l,"lbot.sonar.fov","FOV rotation",180,0,360,1)local t=gui.Checkbox(l,"lbot.sonar.distancebasedfreq","Distancebased Beep frequency",false)local u=gui.Checkbox(l,"lbot.sonar.distancebasedvol","Distancebased Beep frequency",false)local v=gui.Checkbox(l,"lbot.sonar.visualize","Visualize FOV",false)local w=gui.Groupbox(k,"Grenade Helper",15,600,297,300)local x=gui.Groupbox(k,"Semirage (WARNING: Ragebots Gets Enabled)",320,640,297,300)local y=gui.Checkbox(x,"semirage.aimbot","SEMI-AIM",false)local z=gui.Slider(x,"semirage.fovrndmtimer","Fov Randomizer Time",1,1,60)local A=gui.Slider(x,"semirage.fovrndm1","Minimum FOV",1,1,30)local B=gui.Slider(x,"semirage.fovrndm2","Maximum FOV",1,1,30)local C=gui.Keybox(x,"semirage.autowall","Autowall key",72)local D=gui.Keybox(x,"semirage.obvious","Obvious Mode on Key",72)local E=gui.Keybox(x,"semirage.resolver","Toggle Resolver on key",72)local F=gui.Combobox(x,"semirage.legitAA.mode","Legit AA Modes","Off","Safe","Maximum","Randomized","Jitter")local G=gui.Slider(x,"semirage.legitAA.AntiBrute","Anti Brute Tick time",1,1,80)local H=gui.Slider(x,"semirage.legitAA.rndm1","rotation randomizer 1",1,1,58)local I=gui.Slider(x,"semirage.legitAA.rndm2","rotation randomizer 2",1,1,58)local J=gui.Slider(x,"semirage.legitAA.rndm3","lby randomizer 1",1,-58,1)local K=gui.Slider(x,"semirage.legitAA.rndm4","lby randomizer 2",1,-58,1)local L=gui.Keybox(x,"semirage.aa.inverter.key","Base Rotation Inverter",72)local M=gui.Checkbox(x,"semirage.fakelag","Fake LAG",false)local N=gui.Checkbox(x,"semirage.extra.desyncindicator","Desync Indicator",false)local O=gui.ColorPicker(x,"semirage.extra.desynccolor","Desync Indicator Color",255,255,255,255)local P=gui.Checkbox(x,"semirage.extra.fovindicator","FOV  Indicator",false)local Q=gui.ColorPicker(x,"semirage.extra.fovccator Color",255,255,255,255)local R=gui.Combobox(m,"icarus.showlogo","Icarus LOGO's","Simple","Normal")local S=gui.Checkbox(m,"icarus.pingindicator","Indicate the ping",false)local function T()minValue=A:GetValue()maxValue=B:GetValue()legitaarandom1=H:GetValue()legitaarandom2=I:GetValue()legitaarandomlby1=J:GetValue()legitaarandomlby2=K:GetValue()rotationRANDOMIZED=math.random(legitaarandom1,legitaarandom2)lbyRANDOMIZED=math.random(legitaarandomlby1,legitaarandomlby2)ping=entities.GetPlayerResources():GetPropInt("m_iPing",client.GetLocalPlayerIndex())end;rotation=58;rotation2=56;lby2=-60;lby=-58;key=1;SilntAIM=1;n:SetDescription("Enables Sonar ESP.")p:SetDescription("Select which sound should be played.")o:SetDescription("Master volume of the sound.")q:SetDescription("Distance of the FOV.")r:SetDescription("Field of view of the sonar.")s:SetDescription("Rotation of the FOV.")t:SetDescription("Play sound more frequently when enemies are near.")u:SetDescription("Play sound louder when enemies are near.")v:SetDescription("Visualize the FOV.")local U=0;local V={"button17","button15","blip1","blip2","bell1","button10"}local W=math.rad;local X=math.cos;local Y=math.sin;local Z=math.sqrt;local _=math.atan;local a0=client.WorldToScreen;local a1=draw.Line;local a2=gui.Groupbox(k,"Visual stuff",320,5,297,300)local a3=gui.Checkbox(a2,"crosshair.recoilcrosshair","Recoil Crosshair",1)local a4=gui.ColorPicker(a3,"recoilcolor","Recoil Crosshair Color",255,255,255,255)local a5=gui.Checkbox(a2,"crosshair.recoilidle","Hide Recoil Crosshair When Idle",1)a4:SetDescription("Pick the Color of the recoil Crosshair")a3:SetDescription("Enables the recoil Crosshair")a5:SetDescription("Disables the recoil Crosshair if it's Idling")local a6=client.GetPlayerIndexByUserID;local a7=client.GetLocalPlayerIndex;local a8;local a9;local aa=gui.Checkbox(m,'lua.quick.switch','Quick Switch AWP',0)local function ab(ac)if aa:GetValue()then if ac:GetName()~='weapon_fire'then return end;if gui.GetValue("misc.fakelatency.enable")then return end;local ad=a7()local ae=ac:GetInt('userid')if ad==a6(ae)then local af=ac:GetString('weapon')if af=='weapon_awp'then client.Command('slot3',true)flip=true end end end end;client.AllowListener('weapon_fire')callbacks.Register('FireGameEvent','on_weapon_fire',ab)local function ag(ac)if ac:GetName()~='item_equip'then return end;local ad=a7()local ae=ac:GetInt('userid')local ah=ac:GetString('item')if ad==a6(ae)then a9=ah end end;client.AllowListener('item_equip')callbacks.Register('FireGameEvent','on_item_equip',ag)function reset_tick(ai)if flip then if a9~='awp'then client.Command("slot1",true)flip=false end end end;callbacks.Register('CreateMove','reset_tick',reset_tick)local function aj()local ak=0;local al=entities.GetLocalPlayer()if al~=nil and not gui.GetValue("rbot.master")then if al:IsAlive()then local am=al:GetProp("m_bIsScoped")if am==256 then am=0 end;if am==257 then am=1 end;local an=al:GetPropEntity("m_hActiveWeapon")if an~=nil then local ao=an:GetClass()local ap=0;local aq=0;ao=string.gsub(ao,"CWeapon","")if ao=="Aug"or ao=="SG556"then ak=1 else ak=0 end;if am==0 or am==1 and ak==1 then ap=1 else ap=0 end;if ao=="Taser"or ao=="CKnife"then ap=0 end;if ao=="AWP"or ao=="SCAR20"or ao=="G3SG1"or ao=="SSG08"then aq=1 end;if a3:GetValue()and ap==1 then local ar=al:GetPropVector("localdata","m_Local","m_aimPunchAngle")local as,at=ar.x,ar.y;local au,av=draw.GetScreenSize()local aw=au/2;local ax=av/2;local ay=90;if ay==0 then ay=90 end;if am==1 and ak==1 then ay=45 end;local az=au/ay;local aA=av/ay;local aB=0;local aC=0;if gui.GetValue("esp.other.norecoil")then aB=aw-az*at*1.2;aC=ax+aA*as*2 else aB=aw-az*at*0.6;aC=ax+aA*as end;if aB>aw-0.5 and aB<aw then aB=aw end;if aB<aw+0.5 and aB>aw then aB=aw end;if aC>ax-0.5 and aC<ax then aC=ax end;if aC<ax+0.5 and aC>ax then aC=ax end;if a5:GetValue()then if aB==aw and aC==ax and aq~=1 then return end end;draw.Color(a4:GetValue())draw.FilledRect(aB-3,aC-1,aB+3,aC+1)draw.FilledRect(aB-1,aC-3,aB+1,aC+3)end end end end end;callbacks.Register("Draw","punch",aj)local aD=client.GetConVar("fov_cs_debug")local aE=client.GetConVar("viewmodel_fov")local aF=gui.Slider(a2,"view_fov","View",aD,0,120)local aG=gui.Slider(a2,"view_model_fov","Viewmodel",aE,0,120)local aH=gui.Slider(a2,"view_model_offset_x","Viewmodel X Offset",0,-10,10,0.1)local aI=gui.Slider(a2,"view_model_offset_y","Viewmodel Y Offset",0,-10,10,0.1)local aJ=gui.Slider(a2,"view_model_offset_z","Viewmodel Z Offset",0,-10,10,0.1)local function aK()if aF:GetValue()and aG:GetValue()and aH:GetValue()and aI:GetValue()and aJ:GetValue()then client.SetConVar("fov_cs_debug",aF:GetValue(),true)client.SetConVar("viewmodel_fov",aG:GetValue(),true)client.SetConVar("viewmodel_offset_x",aH:GetValue(),true)client.SetConVar("viewmodel_offset_y",aI:GetValue(),true)client.SetConVar("viewmodel_offset_z",aJ:GetValue(),true)end end;callbacks.Register("Draw","Field of View",aK)local aL=gui.Checkbox(a2,"crosshair.onsniper","Crosshair on Sniper",false)local function aM()if aL:GetValue()then local aN=1;local aO=entities.GetLocalPlayer()if aO==nil then return end;if aN==0 or aN==1 and aO:GetProp("m_bIsScoped")%1==0 or aN==2 and gui.GetValue("vis_scoperemover")==1 or aN==2 and gui.GetValue("vis_scoperemover")~=1 and aO:GetProp("m_bIsScoped")%2==0 then if client.GetConVar("weapon_debug_spread_show")~=3 then client.SetConVar("weapon_debug_spread_show",3,true)end else if client.GetConVar("weapon_debug_spread_show")~=0 then client.SetConVar("weapon_debug_spread_show",0,true)end end end end;callbacks.Register("Draw","force_crosshair_draw",aM)local function aP(aQ,aR,color)local aS,aT;draw.Color(color[1],color[2],color[3],color[4])local ay=r:GetValue()local aU=180-s:GetValue()local aV=engine.GetViewAngles()aV.y=aV.y+aU+180-ay;aV:Normalize()for rotation=aV.y,aV.y+ay*2,1 do local aW=W(rotation)local aX=Vector3(aR*X(aW)+aQ.x,aR*Y(aW)+aQ.y,aQ.z)local aw,ax=a0(aX)if ay~=180 then if rotation==aV.y or rotation==aV.y+ay*2 then local aY,aZ=a0(aQ)if aw~=nil and aY~=nil then a1(aw,ax,aY,aZ)for a_=0,4 do a1(aw,ax+a_,aY,aZ+a_)end end end end;if aw~=nil and aS~=nil then a1(aw,ax,aS,aT)for a_=0,4 do a1(aw,ax+a_,aS,aT+a_)end end;aS,aT=aw,ax end end;local function b0(b1)return Z(b1.x*b1.x+b1.y*b1.y+b1.z*b1.z)end;local function b2(b3,b4)return Vector3(b3.x-b4.x,b3.y-b4.y,b3.z-b4.z)end;local function b5(b6,b7)local b8=EulerAngles(0,0,0)local b9=b2(b6,b7)local ba=b0(b9)b8.x=_(b9.z/ba)*180.0/3.14159265358979323846;b8.y=_(b9.y/b9.x)*180.0/3.14159265358979323846;b8.z=0.0;if b9.x>=0.0 then b8.y=b8.y+180.0 end;b8:Normalize()return b8 end;local function bb()local bc=entities.GetLocalPlayer()if bc and bc:IsAlive()and n:GetValue()then local bd=bc:GetAbsOrigin()local be=0;local bf=0;local bg=1;local bh=9999;local ay=r:GetValue()local aU=s:GetValue()local aV=engine.GetViewAngles()local bi=q:GetValue()for a_=1,64,1 do local bj=entities.GetByIndex(a_)if bj and bj:IsAlive()then if bj:GetTeamNumber()~=bc:GetTeamNumber()then bf=bf+1;local bk=bj:GetAbsOrigin()local bl=b5(bd,bk)local bm=Z((bd.x-bk.x)^2+(bd.y-bk.y)^2)if bm<=bi then bl.y=bl.y-aV.y+aU;bl:Normalize()if bl.y<0 then if bl.y>=ay*-1 then be=be+1 end elseif bl.y>0 then if bl.y<=ay then be=be+1 end end;if bm<bh then bh=bm end end end end end;if t:GetValue()then bg=0.1+0.8*bh/1500 end;if be>0 and U<globals.RealTime()-bg then local bn=V[p:GetValue()+1]local bo=o:GetValue()/100;if u:GetValue()then bo=(1-bh/1500)*bo end;client.Command("playvol buttons/"..bn.." "..bo,true)U=globals.RealTime()end;if v:GetValue()then aP(bd,bi,{255*be/bf,25,25,155})end end end;callbacks.Register("Draw",bb)local bp=100;local bq=100;local br=30;local bs=40;local bt="grenade_helper_data.dat"local bu=gui.Checkbox(w,"gh_enabled","Grenade Helper Enabled",1)local bv=gui.Slider(w,"gh_rect_size","Throw Rect Size",10,0,25)local bw=gui.Checkbox(w,"gh_ch_throw","Throw Rectangle Enabled",1)local bx=gui.Checkbox(w,"gh_ch_throwline","Throw Helper Line Enabled",1)local by=gui.Checkbox(w,"gh_ch_standbox","Stand Box Enabled",1)local bz=gui.Checkbox(w,"gh_ch_standbox_ood","Stand Box Out of Distance Custom Color",1)local bA=gui.Checkbox(w,"gh_ch_text","Text Enabled (Name)",1)local bB=gui.Slider(w,"gh_max_distance","Max Distance",3000,0,5000)local bC=gui.Checkbox(w,"gh_fix_strafe","Affect Autostrafe",1)local bD=gui.Checkbox(w,"gh_fix_airstrafe","Affect Airstrafe",1)local bE=gui.Slider(w,"gh_box_radius","GH Box Size",20,0,50)local bF=gui.Checkbox(w,"gh_ch_keybinds","Enable Keybinds",0)local bG=gui.Keybox(w,"gh_kb_add","Add Throw",0)local bH=gui.Keybox(w,"gh_kb_rem","Remove Throw",0)local bI=gui.ColorPicker(bw,"gh_clr_throw","Grenade Helper Throw Point",255,0,0,255)local bJ=gui.ColorPicker(bx,"gh_clr_helper","Grenade Helper Line Color",233,212,96,255)local bK=gui.ColorPicker(by,"gh_clr_standbox","Grenade Helper Location",0,230,64,255)local bL=gui.ColorPicker(bz,"gh_clr_standbox_oop","Grenade Helper Location (Out)",22,160,133,255)local bM=gui.ColorPicker(bA,"gh_clr_text","Grenade Helper Text Color",255,255,255,255)local bN={}local bO=false;local bP=false;local bQ=true;local bR=true;local bS=globals.TickCount()local bT;local bU=1;local bV;local bW=globals.TickCount()local bX,bY=0,0;local bR=true;local bZ={"auto","smokegrenade","flashbang","hegrenade","molotovgrenade","decoy"}local b_={"stand","jump","run","crouch","right","leftright","jumpcrouch","jumpleftright","jumpright","runjump"}local c0={"[GH] Welcome to GH Setup. Type 'cancel' at any time to cancel. Please enter the name of the throw (e.g. CT to B site):","[GH] Please enter the throw type (stand / jump / run / crouch / right / leftright / jumpcrouch / runjump / jumpleftright / jumpright):"}local c1=file.Open(bt,"a")c1:Close()local c2;function gameEventHandler(c3)if bu:GetValue()==false then return end;local c4=c3:GetName()if c4=="player_say"and bT~=nil then local c5=client.GetLocalPlayerIndex()print(c5)local c6=c3:GetInt('userid')local c7=client.GetPlayerIndexByUserID(c6)print(c7)if c5~=c7 then return end;bW=globals.TickCount()local c8=c3:GetString('text')if c8=="cancel"then bV="[GH] Throw cancelled"bT=nil;bU=0;return end;if string.sub(c8,1,4)=="[GH]"then return end;if bU==1 then bT.name=c8 elseif bU==2 then if hasValue(b_,c8)==false then bV="[GH] The throw type '"..c8 .."' is invalid, please enter one of the following values: stand / jump / run / crouch / right"return end;bT.type=c8;bV="[GH] Your throw '"..bT.name.."' - "..bT.type.." has been added."table.insert(bN[c2],bT)bT=nil;local c9=convertTableToDataString(bN)local ca=file.Open(bt,"w")if ca~=nil then ca:Write(c9)ca:Close()end;bU=0;return else bU=0;return end;bU=bU+1;bV=c0[bU]return end end;function doAdd(cb)local al=entities.GetLocalPlayer()if c2==nil or bN[c2]==nil or al==nil or not al:IsAlive()then return end;local cc=al:GetAbsOrigin()local b8=cb:GetViewAngles()local cd=getWeaponName(al)if cd~=nil and cd~="smokegrenade"and cd~="flashbang"and cd~="molotovgrenade"and cd~="hegrenade"and cd~="decoy"then return end;local ce={name="",type="not_set",nade=cd,pos={x=cc.x,y=cc.y,z=cc.z},ax=b8.x,ay=b8.y}bT=ce;bU=1;bV=c0[bU]end;function removeFirstThrow(cf)for a_,cg in ipairs(bN[c2])do if cg.name==cf.name and cg.pos.x==cf.pos.x and cg.pos.y==cf.pos.y and cg.pos.z==cf.pos.z then return table.remove(bN[c2],a_)end end end;function doDel(cf)if c2==nil or bN[c2]==nil then return end;removeFirstThrow(cf)local c9=convertTableToDataString(bN)local ca=file.Open(bt,"w")if ca~=nil then ca:Write(c9)ca:Close()end end;function moveEventHandler(cb)if bu:GetValue()==false then return end;local al=entities.GetLocalPlayer()if c2==nil or bN==nil or bN[c2]==nil or al==nil or not al:IsAlive()then bT=nil;bU=1;bV=nil;return end;if bT~=nil then return end;local ch=bG:GetValue()local ci=bH:GetValue()if bF:GetValue()==false or ch==0 and ci==0 then return end;if bS~=nil and bS>globals.TickCount()then bS=globals.TickCount()end;if ch~=0 and input.IsButtonDown(ch)and globals.TickCount()-bS>br then bS=globals.TickCount()return doAdd(cb)end;local cj,ck=getClosestThrow(bN[c2],al,cb)if cj==nil or ck>bE:GetValue()then return end;if ci~=0 and input.IsButtonDown(ci)and globals.TickCount()-bS>br then bS=globals.TickCount()return doDel(cj)end end;function drawEventHandler()if bu:GetValue()==false then return end;if bR then loadData()bR=false end;bX,bY=draw.GetScreenSize()local cl=engine.GetMapName()if cl==nil or bN==nil then return end;if bN[cl]==nil then bN[cl]={}end;if c2~=cl then c2=cl end;if bN[c2]==nil then return end;if bW~=nil and bW>globals.TickCount()then bW=globals.TickCount()end;if bV~=nil and globals.TickCount()-bW>100 then client.ChatTeamSay(bV)bV=nil end;showNadeThrows()end;function loadData()local ca=file.Open(bt,"r")if ca==nil then return end;local cm=ca:Read()ca:Close()if cm~=nil and cm~=""then bN=parseStringifiedTable(cm)end end;function showNadeThrows()local al=entities:GetLocalPlayer()if al==nil then return end;local cc=al:GetAbsOrigin()local ao=getWeaponName(al)if ao~=nil and ao~="smokegrenade"and ao~="flashbang"and ao~="molotovgrenade"and ao~="hegrenade"and ao~="decoy"then if bC:GetValue()then gui.SetValue("misc.strafe.enable",1)end;if bD:GetValue()then gui.SetValue("misc.strafe.air",1)end;return end;local cn,co=getActiveThrows(bN[c2],al,ao)if bC:GetValue()then gui.SetValue("misc.strafe.enable",1)end;if bD:GetValue()then gui.SetValue("misc.strafe.air",1)end;for a_=1,#cn do local cf=cn[a_]local cp=Vector3(cf.pos.x,cf.pos.y,cf.pos.z)local cq,cr=client.WorldToScreen(cp)if co then if bC:GetValue()then gui.SetValue("misc.strafe.enable",0)end;if bD:GetValue()then gui.SetValue("misc.strafe.air",0)end;local cs=64;if cf.type=="crouch"then cs=46 end;local ct,cu,cv=getThrowPosition(cf.pos.x,cf.pos.y,cf.pos.z,cf.ax,cf.ay,cs)local cw=Vector3(ct,cu,cv)local cx,cy=client.WorldToScreen(cw)if cx~=nil and cy~=nil then if bw:GetValue()then draw.Color(bI:GetValue())local cz=bv:GetValue()draw.RoundedRect(cx-cz,cy-cz,cx+cz,cy+cz)end;if bx:GetValue()then draw.Color(bJ:GetValue())draw.Line(cx,cy,bX/2,bY/2)end;if bA:GetValue()then draw.Color(bM:GetValue())local cA,cB=draw.GetTextSize(cf.name)draw.Text(cx-cA/2,cy-30-cB/2,cf.name)cA,cB=draw.GetTextSize(cf.type)draw.Text(cx-cA/2,cy-20-cB/2,cf.type)end end end;local cC=Vector3(cf.pos.x-bE:GetValue()/2,cf.pos.y-bE:GetValue()/2,cf.pos.z)local cD,cE=client.WorldToScreen(cC)local cF=Vector3(cf.pos.x-bE:GetValue()/2,cf.pos.y+bE:GetValue()/2,cf.pos.z)local cG,cH=client.WorldToScreen(cF)local cI=Vector3(cf.pos.x+bE:GetValue()/2,cf.pos.y-bE:GetValue()/2,cf.pos.z)local cJ,cK=client.WorldToScreen(cI)local cL=Vector3(cf.pos.x+bE:GetValue()/2,cf.pos.y+bE:GetValue()/2,cf.pos.z)local cM,cN=client.WorldToScreen(cL)if cq~=nil and cr~=nil and cD~=nil and cE~=nil and cG~=nil and cH~=nil and cJ~=nil and cK~=nil and cM~=nil and cN~=nil then if cf.distance<bB:GetValue()then if cf.name~=nil then if bA:GetValue()then local cA,cB=draw.GetTextSize(cf.name)draw.Color(bM:GetValue())draw.Text(cq-cA/2,cr-20-cB/2,cf.name)end end;if co then if by:GetValue()then draw.Color(bK:GetValue())else draw.Color(255,255,255,0)end else if bz:GetValue()then draw.Color(bL:GetValue())end end;draw.Line(cD,cE,cG,cH)draw.Line(cD,cE,cJ,cK)draw.Line(cD,cE,cM,cN)draw.Line(cM,cN,cG,cH)draw.Line(cM,cN,cJ,cK)draw.Line(cG,cH,cJ,cK)end end end end;function getThrowPosition(cO,cP,cQ,cR,cS,cs)return cO-bq*math.cos(math.rad(cS+180)),cP-bq*math.sin(math.rad(cS+180)),cQ-bq*math.tan(math.rad(cR))+cs end;function getWeaponName(al)if al~=nil then local an=al:GetPropEntity("m_hActiveWeapon")if an==nil then return nil end;local ao=an:GetClass()if ao~=nil then ao=ao:gsub("CWeapon","")ao=ao:lower()if ao:sub(1,1)=="c"then ao=ao:sub(2)end;if ao=="incendiarygrenade"then ao="molotovgrenade"end end;return ao end;return nil end;function getDistanceToTarget(cT,cU,cV,ct,cu,cv)local az=cT-ct;local aA=cU-cu;local cW=cV-cv;return math.sqrt(az*az+aA*aA+cW*cW)end;function dump(cX)if type(cX)=='table'then local cY='{ 'for cZ,cg in pairs(cX)do if type(cZ)~='number'then cZ='"'..cZ..'"'end;cY=cY..'['..cZ..'] = '..dump(cg)..','end;return cY..'} 'else return tostring(cX)end end;function getActiveThrows(c_,al,d0)local d1={}local d2={}for a_=1,#c_ do local cf=c_[a_]if cf~=nil and cf.nade==d0 then local cc=al:GetAbsOrigin()local ck=getDistanceToTarget(cc.x,cc.y,cf.pos.z,cf.pos.x,cf.pos.y,cf.pos.z)cf.distance=ck;if ck<bE:GetValue()then table.insert(d2,cf)else table.insert(d1,cf)end end end;if#d2>0 then return d2,true end;return d1,false end;function getClosestThrow(c_,al,cb)local cj;local d3;local d4;local cc=al:GetAbsOrigin()for a_=1,#c_ do local cf=c_[a_]local ck=getDistanceToTarget(cc.x,cc.y,cf.pos.z,cf.pos.x,cf.pos.y,cf.pos.z)local cs=64;if cf.type=="crouch"then cs=46 end;local cO,cP,cQ=getThrowPosition(cf.pos.x,cf.pos.y,cf.pos.z,cf.ax,cf.ay,cs)local cw=Vector3(cO,cP,cQ)local cx,cy=client.WorldToScreen(cw)local d5;if cx~=nil and cy~=nil then d5=math.abs(bX/2-cx+bY/2-cy)end;if d3==nil or ck<=bE:GetValue()and(d4==nil or d4~=nil and d5~=nil and d5<d4)or d4==nil and ck<d3 then cj=cf;d3=ck;d4=d5 end end;return cj,d3 end;function parseStringifiedTable(d6)local d7={}local d8={}for a_ in string.gmatch(d6,"([^\n]*)\n")do table.insert(d8,a_)end;for a_=1,#d8 do local d9={}for da in string.gmatch(d8[a_],"([^,]*)")do table.insert(d9,da)end;local db=d9[1]if d7[db]==nil then d7[db]={}end;table.insert(d7[db],{name=d9[3],type=d9[5],nade=d9[7],pos={x=tonumber(d9[9]),y=tonumber(d9[11]),z=tonumber(d9[13])},ax=tonumber(d9[15]),ay=tonumber(d9[17])})end;return d7 end;function convertTableToDataString(dc)local dd=""for db,c_ in pairs(dc)do for a_,cf in ipairs(c_)do if cf~=nil then dd=dd..db..','..cf.name..','..cf.type..','..cf.nade..','..cf.pos.x..','..cf.pos.y..','..cf.pos.z..','..cf.ax..','..cf.ay..'\n'end end end;return dd end;function hasValue(de,df)for dg,c9 in ipairs(de)do if c9==df then return true end end;return false end;function delaytimer(cb)if cb.tick_count%z:GetValue()==0 then fovrandomized=math.random(minValue,maxValue)end end;local function dh()rotationAmount=gui.GetValue("rbot.antiaim.base.rotation")lbyAmount=gui.GetValue("rbot.antiaim.base.lby")yawAmount=gui.GetValue("rbot.antiaim.base")fovAmount=gui.GetValue("rbot.aim.target.fov")end;local function di()if input.IsButtonPressed(L:GetValue())then rotation=rotation*-1;rotation2=rotation2*-1;lby=lby*-1;lby2=lby2*-1;rotationRANDOMIZED=rotationRANDOMIZED*-1;lbyRANDOMIZED=lbyRANDOMIZED*-1 end end;local function dj(cb)setFont(b)if cb.tick_count%G:GetValue()==0 then if F:GetValue()==4 then rotation2=rotation2*-1 end end end;local function dk()if input.IsButtonPressed(C:GetValue())then toggle=not toggle end;if toggle then SetVal("rbot.hitscan.mode.shared.autowall",1)SetVal("rbot.hitscan.mode.pistol.autowall",1)SetVal("rbot.hitscan.mode.hpistol.autowall",1)SetVal("rbot.hitscan.mode.smg.autowall",1)SetVal("rbot.hitscan.mode.rifle.autowall",1)SetVal("rbot.hitscan.mode.shotgun.autowall",1)SetVal("rbot.hitscan.mode.scout.autowall",1)SetVal("rbot.hitscan.mode.asniper.autowall",1)SetVal("rbot.hitscan.mode.sniper.autowall",1)SetVal("rbot.hitscan.mode.lmg.autowall",1)else SetVal("rbot.hitscan.mode.shared.autowall",0)SetVal("rbot.hitscan.mode.pistol.autowall",0)SetVal("rbot.hitscan.mode.hpistol.autowall",0)SetVal("rbot.hitscan.mode.smg.autowall",0)SetVal("rbot.hitscan.mode.rifle.autowall",0)SetVal("rbot.hitscan.mode.shotgun.autowall",0)SetVal("rbot.hitscan.mode.scout.autowall",0)SetVal("rbot.hitscan.mode.asniper.autowall",0)SetVal("rbot.hitscan.mode.sniper.autowall",0)SetVal("rbot.hitscan.mode.lmg.autowall",0)end end;local function dl()if y:GetValue()then setFont(d)if input.IsButtonPressed(D:GetValue())then toggle2=not toggle2 end;if toggle2 then color(10,255,10)text(5,840,"OBV")SetVal("rbot.aim.key",key-1)SetVal("rbot.aim.target.fov",fovrandomized+3)SetVal("rbot.aim.target.silentaim",SilntAIM)else color(255,69,0)text(5,840,"OBV")SetVal("rbot.aim.key",key)SetVal("rbot.aim.target.fov",fovrandomized)SetVal("rbot.aim.target.silentaim",SilntAIM-1)end end end;local function dm()setFont(b)if y:GetValue()then color(124,176,34)text(5,920,"SEMIAIM")SetVal("rbot.aim.target.fov",fovrandomized)SetVal("rbot.accuracy.weapon.rifle.hitchance",60)SetVal("rbot.accuracy.weapon.rifle.mindmg",25)SetVal("rbot.accuracy.weapon.pistol.hitchance",55)SetVal("rbot.accuracy.weapon.pistol.mindmg",14)SetVal("rbot.accuracy.weapon.hpistol.hitchance",60)SetVal("rbot.accuracy.weapon.hpistol.mindmg",35)SetVal("rbot.accuracy.weapon.smg.hitchance",42)SetVal("rbot.accuracy.weapon.smg.mindmg",12)SetVal("rbot.accuracy.weapon.shotgun.hitchance",45)SetVal("rbot.accuracy.weapon.shotgun.mindmg",25)SetVal("rbot.accuracy.weapon.scout.hitchance",70)SetVal("rbot.accuracy.weapon.scout.mindmg",55)SetVal("rbot.accuracy.weapon.asniper.hitchance",60)SetVal("rbot.accuracy.weapon.asniper.mindmg",20)SetVal("rbot.accuracy.weapon.sniper.hitchance",85)SetVal("rbot.accuracy.weapon.sniper.mindmg",75)SetVal("rbot.accuracy.weapon.lmg.hitchance",35)SetVal("rbot.accuracy.weapon.lmg.mindmg",6)SetVal("rbot.aim.key",key)else color(255,25,25,255)text(5,920,"SEMIAIM")end end;local function dn()if ping>70 then SetVal("rbot.antiaim.base.rotation",0)SetVal("rbot.antiaim.base.lby",0)SetVal("rbot.antiaim.advanced.autodir","Off")SetVal("rbot.antiaim.advanced.antialign","Off")SetVal("rbot.antiaim.advanced.pitch","Off")SetVal("rbot.antiaim.base",0)elseif ping<70 then if F:GetValue()==0 then setFont(b)text(5,900,"OFF")SetVal("rbot.antiaim.base.rotation",0)SetVal("rbot.antiaim.base.lby",0)SetVal("rbot.antiaim.advanced.autodir","Off")SetVal("rbot.antiaim.advanced.antialign","Off")SetVal("rbot.antiaim.advanced.pitch","Off")SetVal("rbot.antiaim.base",0)elseif F:GetValue()==1 then setFont(b)text(5,900,"MINIMUM")SetVal("rbot.antiaim.base.rotation",rotation)SetVal("rbot.antiaim.base.lby",0)SetVal("rbot.antiaim.advanced.autodir","Off")SetVal("rbot.antiaim.advanced.antialign","Off")SetVal("rbot.antiaim.advanced.pitch","Off")SetVal("rbot.antiaim.base",0)elseif F:GetValue()==2 then setFont(b)text(5,900,"MAXIMUM")SetVal("rbot.antiaim.base",0)SetVal("rbot.antiaim.base.rotation",rotation)SetVal("rbot.antiaim.base.lby",lby)SetVal("rbot.antiaim.advanced.autodir","Off")SetVal("rbot.antiaim.advanced.antialign",1)SetVal("rbot.antiaim.advanced.pitch","Off")elseif F:GetValue()==3 then setFont(b)text(5,900,"RANDOMIZED")SetVal("rbot.antiaim.base",0)SetVal("rbot.antiaim.base.rotation",rotationRANDOMIZED)SetVal("rbot.antiaim.base.lby",lbyRANDOMIZED)SetVal("rbot.antiaim.advanced.autodir","Off")SetVal("rbot.antiaim.advanced.antialign",1)SetVal("rbot.antiaim.advanced.pitch","Off")elseif F:GetValue()==4 then setFont(b)text(5,900,"JITTER")SetVal("rbot.antiaim.base",0)SetVal("rbot.antiaim.base.rotation",rotation2)SetVal("rbot.antiaim.base.lby",lby2)SetVal("rbot.antiaim.advanced.autodir","Off")SetVal("rbot.antiaim.advanced.antialign",0)SetVal("rbot.antiaim.advanced.pitch","Off")end;if M:GetValue()then setFont(b)color(0,204,0)text(5,880,"FL")SetVal("misc.fakelag.enable",1)SetVal("misc.fakelag.factor",4.0)else color(255,0,0)text(5,880,"FL")SetVal("misc.fakelag.enable",0)end end end;local function dp()if y:GetValue()then setFont(d)if GetVal("rbot.hitscan.mode.shared.autowall")then color(124,176,34)text(5,860,"AWALL")else color(255,25,55)text(5,860,"AWALL")end end end;local function dq()if y:GetValue()then setFont(d)if input.IsButtonPressed(E:GetValue())then toggle3=not toggle3 end;if toggle3 then color(124,176,34)text(5,660,"RESOLVER")SetVal("rbot.accuracy.posadj.resolver",1)else color(255,10,10)text(5,660,"RESOLVER")SetVal("rbot.accuracy.posadj.resolver",0)end end end;local function dr()if N:GetValue()then setFont(e)if rotationAmount<-1 then color(O:GetValue())text(890,530,"<")elseif rotationAmount>1 then color(O:GetValue())text(1010,530,">")elseif lbyAmount<-1 then color(O:GetValue())text(870,530,"<")elseif lbyAmount>1 then color(O:GetValue())text(1030,530,">")end end end;local function ds()if P:GetValue()then color(Q:GetValue())text(948,548,"fov")text(970,548,fovAmount)end end;local function dt()text(5,540,ping)end;local function du()if R:GetValue()==0 then setFont(e)color(255,255,255,255)text(5,5,"Icarus 1.08")elseif R:GetValue()==1 then color(255,255,255,255)draw.SetTexture(j)draw.FilledRect(-15,-15,220,220)end end;client.AllowListener("player_say")callbacks.Register("FireGameEvent","GH_EVENT",gameEventHandler)callbacks.Register("CreateMove","GH_MOVE",moveEventHandler)callbacks.Register("CreateMove",delaytimer)callbacks.Register("CreateMove",dj)callbacks.Register("Draw","GH_DRAW",drawEventHandler)callbacks.Register("Draw",dm)callbacks.Register("Draw",dn)callbacks.Register("Draw",di)callbacks.Register("Draw",dk)callbacks.Register("Draw",dp)callbacks.Register("Draw",dl)callbacks.Register("Draw",dq)callbacks.Register("Draw",du)callbacks.Register("Draw",dh)callbacks.Register("Draw",dr)callbacks.Register("Draw",ds)callbacks.Register("Draw",T)callbacks.Register("Draw",dt)


--- Auto updater by ShadyRetard/Shady#0001
local function handleUpdates()

    if (update_available and not update_downloaded) then
        ICARUS_UPDATER_TEXT:SetText("Update is getting downloaded.")
        local new_version_content = http.Get(SCRIPT_FILE_ADDR);
        local old_script = file.Open(SCRIPT_FILE_NAME, "w");
        old_script:Write(new_version_content);
        old_script:Close();
        update_available = false;
        update_downloaded = true;
    end

    if (update_downloaded) then
        ICARUS_UPDATER_TEXT:SetText("Update available, please reload the script.")
        return;
    end

    if (not version_check_done) then
        version_check_done = true;
        local version = http.Get(VERSION_FILE_ADDR);
        if (version ~= VERSION_NUMBER) then
            update_available = true;
        end
    end
end


callbacks.Register("Draw", handleUpdates)